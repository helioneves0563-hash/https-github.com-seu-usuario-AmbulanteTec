<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>AmbulanteTec - Detalhes do Pedido</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet" />
  <link href="assets/css/style.css" rel="stylesheet" />
  <!-- Supabase CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="assets/js/supabaseConfig.js"></script>
  <script src="assets/js/services/orderService.js"></script>
  <script src="assets/js/services/productService.js"></script>
  <script src="assets/js/app.js" defer></script>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#0071e3",
            "background-light": "#f5f5f7",
            "background-dark": "#000000",
            "card-light": "#ffffff",
            "card-dark": "#1c1c1e",
            "text-primary-light": "#1d1d1f",
            "text-primary-dark": "#f5f5f7",
            "text-secondary-light": "#86868b",
            "text-secondary-dark": "#86868b",
            "success": "#34c759",
            "destructive": "#ff3b30",
          }
        },
      },
    };
  </script>
</head>
</head>

<body
  class="bg-background-light dark:bg-background-dark font-sans text-text-primary-light dark:text-text-primary-dark antialiased transition-colors duration-300">
  <header
    class="sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 transition-colors duration-300">
    <div class="container-responsive px-5 py-4 flex items-center justify-between">
      <button
        class="p-2 -ml-2 rounded-full text-primary hover:bg-gray-200/50 dark:hover:bg-gray-800/50 transition-colors"
        onclick="window.location.href='orders.html'">
        <span class="material-icons-round text-2xl">arrow_back_ios_new</span>
      </button>
      <div class="text-center">
        <h1 id="order-customer-initials"
          class="text-sm font-semibold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wide">
          ---</h1>
        <h2 id="order-customer-name" class="text-lg font-bold">Carregando...</h2>
      </div>
      <div class="w-10 flex justify-end">
        <span id="order-status-badge"
          class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300">
          ---
        </span>
      </div>
    </div>
  </header>
  <main class="container-responsive pb-32">
    <section class="mt-6 px-5">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-xl font-bold">Adicionar Item</h3>
        <button id="view-all-products-btn" class="text-primary text-sm font-medium hover:underline">Ver todos</button>
      </div>
      <div id="quick-add-products" class="grid grid-cols-3 gap-3">
        <!-- Produtos rápidos serão carregados aqui -->
        <p class="col-span-3 text-center py-4 opacity-50 text-sm">Carregando sugestões...</p>
      </div>
    </section>
    <section class="mt-8 px-5">
      <h3 class="text-xl font-bold mb-4">Itens do Pedido</h3>
      <div id="order-items-container"
        class="bg-card-light dark:bg-card-dark rounded-2xl shadow-apple overflow-hidden border border-transparent dark:border-gray-800">
        <!-- Itens do pedido serão carregados aqui -->
        <p class="text-center py-10 opacity-50">Nenhum item adicionado.</p>
      </div>
      <div id="order-info-card"
        class="mt-6 bg-card-light dark:bg-card-dark rounded-xl p-4 shadow-sm border border-transparent dark:border-gray-800 flex items-start gap-3">
        <span class="material-icons-round text-text-secondary-light dark:text-text-secondary-dark text-xl">info</span>
        <p id="order-info-text" class="text-sm text-text-secondary-light dark:text-text-secondary-dark leading-relaxed">
          Carregando informações adicionais...
        </p>
      </div>
    </section>
  </main>
  <footer
    class="fixed bottom-0 left-0 right-0 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-xl border-t border-gray-200 dark:border-gray-800 z-50 pb-safe pt-4 px-5">
    <div class="container-responsive mb-6">
      <div class="flex justify-between items-end mb-4">
        <div>
          <span
            class="block text-xs text-text-secondary-light dark:text-text-secondary-dark uppercase font-semibold tracking-wider">Total
            do Pedido</span>
          <span id="order-total-value"
            class="text-3xl font-bold tracking-tight text-text-primary-light dark:text-text-primary-dark">R$
            0,00</span>
        </div>
        <div class="text-right pb-1">
          <span id="order-items-count" class="text-xs text-text-secondary-light dark:text-text-secondary-dark">0
            itens</span>
        </div>
      </div>
      <div class="flex flex-col gap-3">
        <button id="close-order-btn"
          class="w-full bg-primary hover:bg-blue-600 text-white font-semibold py-3.5 rounded-xl shadow-lg shadow-blue-500/30 active:scale-[0.98] transition-all text-lg flex items-center justify-center gap-2">
          <span class="material-icons-round">payments</span>
          Fechar Conta
        </button>
        <button id="cancel-order-btn" onclick="window.location.href='orders.html'"
          class="w-full bg-transparent hover:bg-red-50 dark:hover:bg-red-900/10 text-destructive font-medium py-3 rounded-xl active:scale-[0.98] transition-all flex items-center justify-center gap-2 text-sm">
          Cancelar Pedido
        </button>
      </div>
      <div class="h-6"></div>
    </div>
  </footer>
  <div
    class="fixed bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background-light dark:from-background-dark to-transparent pointer-events-none z-40 hidden">
  </div>

</body>

</html>